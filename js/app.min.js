function productModel(e){this.getProducts=function(){var t={method:"GET",url:"https://smktesting.herokuapp.com/api/products/"};return e(t).then(function(e){return e.data})}}function productCtrl(e,t,r){t.getProducts().then(function(t){e.products=t}),e.getReviews=function(t){r.getReviews(t).then(function(t){e.reviews=t})}}function reviewModel(e){this.getReviews=function(t){var r={method:"GET",url:"https://smktesting.herokuapp.com/api/reviews/"+t};return e(r).then(function(e){return e.data})}}function userModel(e,t){var r=this;(r.user=t.getObject("user"))&&(e.defaults.headers.common.Authorization="Token "+r.user.token),r.login=function(t,o){var u={method:"POST",url:"https://smktesting.herokuapp.com/api/login/",data:{username:t,password:o}};return e(u).then(function(e){return e.data.success?(r.authUser(t,e.data.token),!0):!1})},r.register=function(t,o){var u={method:"POST",url:"https://smktesting.herokuapp.com/api/register/",data:{username:t,password:o}};return e(u).then(function(e){return e.data.success?(r.authUser(t,e.data.token),!0):!1})},r.authUser=function(o,u){e.defaults.headers.common.Authorization="Token "+u,r.user={username:o,token:u};var n=new Date;n.setDate(n.getDate()+3),t.putObject("user",r.user,{expires:n})},r.logout=function(){t.remove("user"),e.defaults.headers.common.Authorization=void 0,r.user=void 0}}function authCtrl(e,t){e.getUser=function(){return t.user},e.logout=function(){t.logout()}}function loginCtrl(e,t){e.login=function(r){var o=e.user.username,u=e.user.password;o&&u&&t.login(o,u)&&e.resetForm(r)},e.resetForm=function(t){t&&(t.$setPristine(),t.$setUntouched()),e.user=void 0}}function registerCtrl(e,t){e.register=function(r){var o=e.user.username,u=e.user.password;o&&u&&t.register(o,u)&&e.resetForm(r)},e.resetForm=function(t){t&&(t.$setPristine(),t.$setUntouched()),e.user=void 0}}angular.module("product",[]),productModel.$inject=["$http"],angular.module("product").service("productModel",productModel),productCtrl.$inject=["$scope","productModel","reviewModel"],angular.module("product").controller("productCtrl",productCtrl),reviewModel.$inject=["$http"],angular.module("product").service("reviewModel",reviewModel),angular.module("user",["ngCookies"]),userModel.$inject=["$http","$cookies"],angular.module("user").service("userModel",userModel),authCtrl.$inject=["$scope","userModel"],angular.module("user").controller("authCtrl",authCtrl),loginCtrl.$inject=["$scope","userModel"],angular.module("user").controller("loginCtrl",loginCtrl),registerCtrl.$inject=["$scope","userModel"],angular.module("user").controller("registerCtrl",registerCtrl),angular.module("root",["user","product"]),$(function(){$(".submit-btn").on("click",function(){$.fancybox.close()})});